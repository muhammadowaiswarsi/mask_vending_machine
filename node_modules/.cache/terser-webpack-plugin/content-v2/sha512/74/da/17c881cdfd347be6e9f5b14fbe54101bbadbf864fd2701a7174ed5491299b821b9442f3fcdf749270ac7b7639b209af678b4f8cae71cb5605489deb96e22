{"map":{"version":3,"sources":["static/js/5.ecca02ea.chunk.js"],"names":["this","push","328","module","__webpack_exports__","__webpack_require__","r","d","AmplifyChatbot","ChatState","MessageFrom","ChatErrorType","_index_39969785_js__WEBPACK_IMPORTED_MODULE_0__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_1__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_2__","_aws_amplify_core__WEBPACK_IMPORTED_MODULE_3__","_Translations_392acb9b_js__WEBPACK_IMPORTED_MODULE_4__","_constants_d1abe7de_js__WEBPACK_IMPORTED_MODULE_5__","_aws_amplify_interactions__WEBPACK_IMPORTED_MODULE_6__","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__generator","body","f","y","t","g","_","label","sent","trys","ops","verb","throw","return","Symbol","iterator","n","v","op","TypeError","call","pop","length","__spreadArrays","s","i","il","arguments","Array","k","a","j","jl","writeString","view","offset","string","setUint8","charCodeAt","encodeWAV","samples","exportSampleRate","audioSize","dataSize","buffer","ArrayBuffer","DataView","setUint32","fmtSize","setUint16","output","input","byteOffset","Math","max","min","setInt16","floatTo16BitPCM","exportBuffer","recBuffer","recLength","recordSampleRate","downsampledBuffer","sampleRateRatio","newLength","round","Float32Array","offsetResult","offsetBuffer","nextOffsetBuffer","accum","count","downsampleBuffer","bufferArray","set","mergeBuffers","encodedWav","Blob","type","logger","AudioRecorder","options","streamBuffer","streamBufferLength","recording","prototype","init","_this","_a","Object","isBrowser","window","AudioContext","webkitAudioContext","audioContext","navigator","mediaDevices","getUserMedia","audio","stream","audioSupported","setupAudioNodes","catch","err_1","sourceNode","processorNode","analyserNode","resume","error","createMediaStreamSource","createScriptProcessor","onaudioprocess","audioProcessingEvent","inputBuffer","getChannelData","analyse","createAnalyser","minDecibels","maxDecibels","smoothingTimeConstant","connect","context","destination","startRecording","onSilence","visualizer","err_2","start","Date","now","stopRecording","clear","play","myBlob","res","rej","fileReader","FileReader","onload","playbackSource","disconnect","createBufferSource","decodeAudioData","buf","onended","err","onerror","readAsArrayBuffer","stop","analyser","fftSize","bufferLength","dataArray","Uint8Array","amplitude","time","getByteTimeDomainData","curr_value_time","exportWAV","blob","sampleRate","class_1","hostRef","clearOnComplete","conversationModeOn","botTitle","CHATBOT_TITLE","voiceEnabled","textEnabled","silenceTime","silenceThreshold","messages","text","chatState","Initial","messageJSX","messageList","map","message","class","from","content","SendingText","SendingVoice","client","Bot","User","chatCompleted","submitHandler","_event","sendTextMessage","componentWillLoad","onComplete","Error","validateProps","componentDidRender","element","shadowRoot","querySelector","scrollTop","scrollHeight","botName","welcomeMessage","appendToChat","audioRecorder","setError","Recoverable","data","emit","reset","Unrecoverable","NO_BOT_NAME_ERROR","CHAT_DISABLED_ERROR","handleMicButton","Listening","handleSilence","sendVoiceMessage","handleTextChange","event","target","handleCancelButton","handleToastClose","errorType","undefined","canvas","getBoundingClientRect","width","height","canvasCtx","getContext","fillStyle","clearRect","requestAnimationFrame","fillRect","lineWidth","color","getComputedStyle","document","documentElement","getPropertyValue","strokeStyle","beginPath","sliceWidth","x","moveTo","lineTo","stroke","visualize","response","err_3","send","audioInput","interactionsMessage","err_4","dialogState","messageType","inputTranscript","audioStream","listeningFooterJSX","data-test","handleButtonClick","variant","icon","footerJSX","inputPlaceholder","TEXT_INPUT_PLACEHOLDER","VOICE_INPUT_PLACEHOLDER","placeholder","get","description","handleInputChange","evt","disabled","errorToast","handleClose","render","name","defineProperty","enumerable","configurable","style","352","Interactions","ConsoleLogger","Amplify","__assign","assign","p","hasOwnProperty","AbstractInteractionsProvider","_config","configure","config","debug","getProviderName","getCategory","tslib_es6","es_package","build","cjs","dist_cjs","url_parser_browser_dist_cjs","util_base64_browser_dist_cjs","util_body_length_browser_dist_cjs","util_user_agent_browser_dist_cjs","util_utf8_browser_dist_cjs","AWS_REGIONS","Set","AWS_CN_REGIONS","AWS_ISO_REGIONS","AWS_ISO_B_REGIONS","AWS_US_GOV_REGIONS","ClientSharedValues","apiVersion","disableHostPrefix","regionInfoProvider","region","regionInfo","hostname","signingService","has","replace","signingName","ClientDefaultValues","runtime","base64Decoder","base64Encoder","bodyLengthChecker","credentialDefaultProvider","defaultUserAgent","maxAttemptsDefaultProvider","regionDefaultProvider","requestHandler","sha256","streamCollector","urlParser","utf8Decoder","utf8Encoder","config_resolver_dist_cjs","middleware_content_length_dist_cjs","middleware_host_header_dist_cjs","middleware_retry_dist_cjs","middleware_signing_dist_cjs","middleware_user_agent_dist_cjs","smithy_client_dist_cjs","LexRuntimeServiceClient_LexRuntimeServiceClient","_super","LexRuntimeServiceClient","configuration","_config_0","_config_1","_config_2","_config_3","_config_4","_config_5","_config_6","middlewareStack","use","destroy","protocol_http_dist_cjs","Aws_restJson1_deserializeAws_restJson1PostContentCommandError","parsedOutput","_b","errorCode","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","parsedBody","_q","parseBody","concat","loadRestJsonErrorCode","Aws_restJson1_deserializeAws_restJson1BadGatewayExceptionResponse","$metadata","deserializeMetadata","Aws_restJson1_deserializeAws_restJson1BadRequestExceptionResponse","Aws_restJson1_deserializeAws_restJson1ConflictExceptionResponse","Aws_restJson1_deserializeAws_restJson1DependencyFailedExceptionResponse","Aws_restJson1_deserializeAws_restJson1InternalFailureExceptionResponse","Aws_restJson1_deserializeAws_restJson1LimitExceededExceptionResponse","Aws_restJson1_deserializeAws_restJson1LoopDetectedExceptionResponse","Aws_restJson1_deserializeAws_restJson1NotAcceptableExceptionResponse","Aws_restJson1_deserializeAws_restJson1NotFoundExceptionResponse","Aws_restJson1_deserializeAws_restJson1RequestTimeoutExceptionResponse","Aws_restJson1_deserializeAws_restJson1UnsupportedMediaTypeExceptionResponse","code","Code","Message","$fault","Aws_restJson1_deserializeAws_restJson1PostTextCommandError","contents","retryAfterSeconds","headers","Aws_restJson1_serializeAws_restJson1StringMap","entries","reduce","acc","_c","key","deserializeAws_restJson1genericAttachmentList","entry","__type","attachmentLinkUrl","buttons","deserializeAws_restJson1listOfButtons","imageUrl","subTitle","title","deserializeAws_restJson1GenericAttachment","deserializeAws_restJson1Button","deserializeAws_restJson1ResponseCard","contentType","genericAttachments","version","deserializeAws_restJson1SentimentResponse","sentimentLabel","sentimentScore","Aws_restJson1_deserializeAws_restJson1StringMap","httpStatusCode","statusCode","httpHeaders","requestId","collectBodyString","streamBody","collectBody","isSerializableHeaderValue","getOwnPropertyNames","includes","size","encoded","JSON","parse","object","sanitizeErrorCode","rawValue","cleanValue","indexOf","split","headerKey","keys","find","toLowerCase","middleware_serde_dist_cjs","PostTextCommand_PostTextCommand","PostTextCommand","resolveMiddleware","clientStack","serialize","deserialize","stack","request","handle","resolvedPath","labelValue","protocol","port","Content-Type","botAlias","userId","stringify","inputText","requestAttributes","sessionAttributes","endpoint","method","path","Aws_restJson1_serializeAws_restJson1PostTextCommand","intentName","messageFormat","responseCard","sentimentResponse","sessionId","slotToElicit","slots","Aws_restJson1_deserializeAws_restJson1PostTextCommand","PostContentCommand_PostContentCommand","PostContentCommand","x-amz-content-sha256","accept","Accept","x-amz-lex-request-attributes","fromObject","x-amz-lex-session-attributes","inputStream","Aws_restJson1_serializeAws_restJson1PostContentCommand","Aws_restJson1_deserializeAws_restJson1PostContentCommand","Credentials","Platform","convert","ReadableStream","Response","arrayBuffer","__extends","_extendStatics","b","setPrototypeOf","__proto__","__","constructor","create","AWSLexProvider_assign","AWSLexProvider_logger","AWSLexProvider_AWSLexProvider","AWSLexProvider","_botsCompleteCallback","reportBotStatus","botname","setTimeout","sendMessage","credentials","params","postTextCommand","postContentCommand","audioArray","lexRuntimeServiceClient","customUserAgent","alias","identityId","callback","ErrorEvent","Interactions_assign","Interactions_awaiter","Interactions_generator","Interactions_logger","InteractionsClass","_options","_pluggables","getModuleName","opt","bots","aws_bots_config","bots_config","isArray","forEach","bot","providerName","addPluggable","pluggable","botProvider","register","408","exports"],"mappings":"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"},"code":"(this.webpackJsonpmask_vending_machines_app=this.webpackJsonpmask_vending_machines_app||[]).push([[5],{328:function(e,t,n){\"use strict\";n.r(t),n.d(t,\"amplify_chatbot\",(function(){return x}));var o,r,i,a=n(14),s=n(22),c=n(21),u=n(6),l=n(7),d=n(18),p=n(352),m=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},h=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},f=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),r=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,r++)o[r]=i[a];return o},g=function(e,t,n){for(var o=0;o<n.length;o++)e.setUint8(t+o,n.charCodeAt(o))},v=function(e,t){var n=2*e.length,o=8+n,r=new ArrayBuffer(36+o),i=new DataView(r);return g(i,0,\"RIFF\"),i.setUint32(4,24+o,!0),g(i,8,\"WAVE\"),g(i,12,\"fmt \"),i.setUint32(16,16,!0),i.setUint16(20,1,!0),i.setUint16(22,1,!0),i.setUint32(24,t,!0),i.setUint32(28,2*t,!0),i.setUint16(32,2,!0),i.setUint16(34,16,!0),g(i,36,\"data\"),i.setUint32(40,n,!0),function(e,t,n){for(var o=t,r=0;r<n.length;r++,o+=2){var i=Math.max(-1,Math.min(1,n[r]));e.setInt16(o,i<0?32768*i:32767*i,!0)}}(i,44,e),i},b=function(e,t,n,o){var r=function(e,t,n){if(n===t)return e;for(var o=t/n,r=Math.round(e.length/o),i=new Float32Array(r),a=0,s=0;a<i.length;){for(var c=Math.round((a+1)*o),u=0,l=0,d=s;d<c&&d<e.length;d++)u+=e[d],l++;i[a]=u/l,a++,s=c}return i}(function(e,t){for(var n=new Float32Array(t),o=0,r=0;r<e.length;r++)n.set(e[r],o),o+=e[r].length;return n}(e,t),n,o),i=v(r,o);return new Blob([i],{type:\"application/octet-stream\"})},y=new s.a(\"AudioRecorder\"),_=function(){function e(e){this.streamBuffer=[],this.streamBufferLength=0,this.recording=!1,this.options=e}return e.prototype.init=function(){return m(this,void 0,void 0,(function(){var e=this;return h(this,(function(t){switch(t.label){case 0:return Object(c.b)().isBrowser?(window.AudioContext=window.AudioContext||window.webkitAudioContext,this.audioContext=new AudioContext,[4,navigator.mediaDevices.getUserMedia({audio:!0}).then((function(t){e.audioSupported=!0,e.setupAudioNodes(t)})).catch((function(){return e.audioSupported=!1,Promise.reject(\"Audio is not supported\")}))]):[3,2];case 1:return t.sent(),[3,3];case 2:return this.audioSupported=!1,[2,Promise.reject(\"Audio is not supported\")];case 3:return[2]}}))}))},e.prototype.setupAudioNodes=function(e){return m(this,void 0,void 0,(function(){var t,n,o,r,i=this;return h(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,this.audioContext.resume()];case 1:return a.sent(),[3,3];case 2:return t=a.sent(),y.error(t),[3,3];case 3:return n=this.audioContext.createMediaStreamSource(e),(o=this.audioContext.createScriptProcessor(4096,1,1)).onaudioprocess=function(e){if(i.recording){var t=e.inputBuffer.getChannelData(0);i.streamBuffer.push(new Float32Array(t)),i.streamBufferLength+=t.length,i.analyse()}},(r=this.audioContext.createAnalyser()).minDecibels=-90,r.maxDecibels=-10,r.smoothingTimeConstant=.85,n.connect(r),r.connect(o),o.connect(n.context.destination),this.analyserNode=r,[2]}}))}))},e.prototype.startRecording=function(e,t){return m(this,void 0,void 0,(function(){var n,o;return h(this,(function(r){switch(r.label){case 0:if(this.recording||!this.audioSupported)return[2];this.onSilence=e||function(){},this.visualizer=t||function(){},n=this.audioContext,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,n.resume()];case 2:return r.sent(),[3,4];case 3:return o=r.sent(),y.error(o),[3,4];case 4:return this.start=Date.now(),this.recording=!0,[2]}}))}))},e.prototype.stopRecording=function(){this.audioSupported&&(this.recording=!1)},e.prototype.clear=function(){this.stopRecording(),this.streamBufferLength=0,this.streamBuffer=[]},e.prototype.play=function(e){var t=this;if(e&&this.audioSupported){var n=new Blob([e]);return new Promise((function(e,o){var r=new FileReader;r.onload=function(){t.playbackSource&&t.playbackSource.disconnect(),t.playbackSource=t.audioContext.createBufferSource();t.audioContext.decodeAudioData(r.result,(function(n){t.playbackSource.buffer=n,t.playbackSource.connect(t.audioContext.destination),t.playbackSource.onended=function(){return e()},t.playbackSource.start(0)}),(function(e){return o(e)}))},r.onerror=function(){return o()},r.readAsArrayBuffer(n)}))}},e.prototype.stop=function(){this.playbackSource&&this.playbackSource.stop()},e.prototype.analyse=function(){if(this.audioSupported){var e=this.analyserNode;e.fftSize=2048;var t=e.fftSize,n=new Uint8Array(t),o=this.options.amplitude,r=this.options.time;e.getByteTimeDomainData(n),this.visualizer(n,t);for(var i=0;i<t;i++){var a=n[i]/128-1;(a>o||a<-1*o)&&(this.start=Date.now())}Date.now()-this.start>r&&this.onSilence()}},e.prototype.exportWAV=function(e){return void 0===e&&(e=16e3),m(this,void 0,void 0,(function(){var t,n;return h(this,(function(o){return this.audioSupported?(t=this.audioContext.sampleRate,n=b(this.streamBuffer,this.streamBufferLength,t,e),this.clear(),[2,n]):[2]}))}))},e}();!function(e){e[e.Initial=0]=\"Initial\",e[e.Listening=1]=\"Listening\",e[e.SendingText=2]=\"SendingText\",e[e.SendingVoice=3]=\"SendingVoice\",e[e.Error=4]=\"Error\"}(o||(o={})),function(e){e.Bot=\"bot\",e.User=\"user\"}(r||(r={})),function(e){e[e.Recoverable=0]=\"Recoverable\",e[e.Unrecoverable=1]=\"Unrecoverable\"}(i||(i={}));var x=function(){function e(e){var t=this;Object(a.k)(this,e),this.clearOnComplete=!1,this.conversationModeOn=!1,this.botTitle=l.a.CHATBOT_TITLE,this.voiceEnabled=!1,this.textEnabled=!0,this.silenceTime=1500,this.silenceThreshold=.2,this.messages=[],this.text=\"\",this.chatState=o.Initial,this.messageJSX=function(e){var n=e.map((function(e){return Object(a.i)(\"div\",{class:\"bubble \"+e.from},e.content)}));if(t.chatState===o.SendingText||t.chatState===o.SendingVoice){var i=t.chatState===o.SendingText?r.Bot:r.User;n.push(Object(a.i)(\"div\",{class:\"bubble \"+i},Object(a.i)(\"div\",{class:\"dot-flashing \"+i},Object(a.i)(\"span\",{class:\"dot left\"}),Object(a.i)(\"span\",{class:\"dot middle\"}),Object(a.i)(\"span\",{class:\"dot right\"}))))}return n},this.chatCompleted=Object(a.f)(this,\"chatCompleted\",7)}return e.prototype.submitHandler=function(e){this.sendTextMessage()},e.prototype.componentWillLoad=function(){if(!p.a||\"function\"!==typeof p.a.onComplete)throw new Error(d.m);this.validateProps()},e.prototype.componentDidRender=function(){var e=this.element.shadowRoot.querySelector(\".body\");e.scrollTop=e.scrollHeight},e.prototype.validateProps=function(){var e=this;if(this.voiceEnabled||this.textEnabled)if(this.botName){this.welcomeMessage&&this.appendToChat(this.welcomeMessage,r.Bot),this.voiceEnabled&&(this.audioRecorder=new _({time:this.silenceTime,amplitude:this.silenceThreshold}),this.audioRecorder.init().catch((function(t){e.setError(t,i.Recoverable)})));try{p.a.onComplete(this.botName,(function(t,n){e.chatCompleted.emit({data:n,err:t}),e.clearOnComplete?e.reset():e.chatState=o.Initial}))}catch(t){this.setError(t,i.Unrecoverable)}}else this.setError(l.a.NO_BOT_NAME_ERROR,i.Unrecoverable);else this.setError(l.a.CHAT_DISABLED_ERROR,i.Unrecoverable)},e.prototype.handleMicButton=function(){var e=this;this.chatState===o.Initial&&(this.audioRecorder.stop(),this.chatState=o.Listening,this.audioRecorder.startRecording((function(){return e.handleSilence()}),(function(t,n){return e.visualizer(t,n)})))},e.prototype.handleSilence=function(){var e=this;this.chatState=o.SendingVoice,this.audioRecorder.stopRecording(),this.audioRecorder.exportWAV().then((function(t){e.sendVoiceMessage(t)}))},e.prototype.handleTextChange=function(e){var t=e.target;this.text=t.value},e.prototype.handleCancelButton=function(){this.audioRecorder.clear(),this.chatState=o.Initial},e.prototype.handleToastClose=function(e){this.error=void 0,e===i.Recoverable&&(this.chatState=o.Initial)},e.prototype.visualizer=function(e,t){!function(e,t,n){if(n){if(!Object(c.b)().isBrowser)throw new Error(\"Visualization is not supported on non-browsers.\");var o=n.getBoundingClientRect(),r=o.width,i=o.height;n.width=r,n.height=i;var a=n.getContext(\"2d\");a.fillStyle=\"white\",a.clearRect(0,0,r,i);requestAnimationFrame((function(){a.fillRect(0,0,r,i),a.lineWidth=1;var o=getComputedStyle(document.documentElement).getPropertyValue(\"--amplify-primary-color\");a.strokeStyle=o&&\"\"!==o?o:\"#ff9900\",a.beginPath();for(var s=1*r/t,c=0,u=0;u<t||u%3===0;u++){var l=e[u]/128*i/2;0===u?a.moveTo(c,l):a.lineTo(c,l),c+=s}a.lineTo(n.width,n.height/2),a.stroke()}))}}(e,t,this.element.shadowRoot.querySelector(\"canvas\"))},e.prototype.sendTextMessage=function(){return m(this,void 0,void 0,(function(){var e,t,n;return h(this,(function(a){switch(a.label){case 0:if(0===this.text.length||this.chatState!==o.Initial)return[2];e=this.text,this.text=\"\",this.appendToChat(e,r.User),this.chatState=o.SendingText,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,p.a.send(this.botName,e)];case 2:return t=a.sent(),[3,4];case 3:return n=a.sent(),this.setError(n,i.Recoverable),[2];case 4:return t.message&&this.appendToChat(t.message,r.Bot),this.chatState=o.Initial,[2]}}))}))},e.prototype.sendVoiceMessage=function(e){return m(this,void 0,void 0,(function(){var t,n,a,s,c=this;return h(this,(function(u){switch(u.label){case 0:t={content:e,options:{messageType:\"voice\"}},u.label=1;case 1:return u.trys.push([1,3,,4]),[4,p.a.send(this.botName,t)];case 2:return n=u.sent(),[3,4];case 3:return a=u.sent(),this.setError(a,i.Recoverable),[2];case 4:return this.chatState=o.Initial,s=n.dialogState,n.inputTranscript&&this.appendToChat(n.inputTranscript,r.User),this.appendToChat(n.message,r.Bot),[4,this.audioRecorder.play(n.audioStream).then((function(){c.conversationModeOn&&\"Fulfilled\"!==s&&\"Failed\"!==s&&c.chatState===o.Initial&&c.handleMicButton()})).catch((function(e){return c.setError(e,i.Recoverable)}))];case 5:return u.sent(),[2]}}))}))},e.prototype.appendToChat=function(e,t){this.messages=f(this.messages,[{content:e,from:t}])},e.prototype.setError=function(e,t){var n=\"string\"===typeof e?e:e.message;this.chatState=o.Error,this.error={message:n,errorType:t}},e.prototype.reset=function(){this.chatState=o.Initial,this.text=\"\",this.error=void 0,this.messages=[],this.welcomeMessage&&this.appendToChat(this.welcomeMessage,r.Bot),this.audioRecorder&&this.audioRecorder.clear()},e.prototype.listeningFooterJSX=function(){var e=this;return[Object(a.i)(\"canvas\",{height:\"50\"}),Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-cancel-button\",handleButtonClick:function(){return e.handleCancelButton()},class:\"icon-button\",variant:\"icon\",icon:\"ban\"})]},e.prototype.footerJSX=function(){var e=this;if(this.chatState===o.Listening)return this.listeningFooterJSX();var t=this.textEnabled?l.a.TEXT_INPUT_PLACEHOLDER:l.a.VOICE_INPUT_PLACEHOLDER;return[Object(a.i)(\"amplify-input\",{placeholder:u.a.get(t),description:\"text\",handleInputChange:function(t){return e.handleTextChange(t)},value:this.text,disabled:this.chatState===o.Error||!this.textEnabled}),this.voiceEnabled&&Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-mic-button\",handleButtonClick:function(){return e.handleMicButton()},class:\"icon-button\",variant:\"icon\",icon:\"microphone\",disabled:this.chatState===o.Error||this.chatState!==o.Initial}),this.textEnabled&&Object(a.i)(\"amplify-button\",{\"data-test\":\"chatbot-send-button\",class:\"icon-button\",variant:\"icon\",icon:\"send\",handleButtonClick:function(){return e.sendTextMessage()},disabled:this.chatState===o.Error||this.chatState!==o.Initial})]},e.prototype.errorToast=function(){var e=this;if(this.error){var t=this.error,n=t.message,o=t.errorType;return Object(a.i)(\"amplify-toast\",{message:u.a.get(n),handleClose:function(){return e.handleToastClose(o)}})}},e.prototype.render=function(){return Object(a.i)(a.b,null,Object(a.i)(\"div\",{class:\"amplify-chatbot\"},Object(a.i)(\"slot\",{name:\"header\"},Object(a.i)(\"div\",{class:\"header\",\"data-test\":\"chatbot-header\"},u.a.get(this.botTitle))),Object(a.i)(\"div\",{class:\"body\",\"data-test\":\"chatbot-body\"},this.messageJSX(this.messages)),Object(a.i)(\"div\",{class:\"footer\",\"data-test\":\"chatbot-footer\"},this.footerJSX()),this.errorToast()))},Object.defineProperty(e.prototype,\"element\",{get:function(){return Object(a.h)(this)},enumerable:!1,configurable:!0}),e}();x.style=\".bot .dot{background-color:var(--bot-dot-color)}.user .dot{background-color:var(--user-dot-color)}.dot-flashing{width:2.625rem}.dot-flashing .dot{display:inline-block;width:0.625rem;height:0.625rem;border-radius:10rem;opacity:0.65}.dot-flashing .left{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:0s;animation-delay:0s}.dot-flashing .middle{margin-left:0.375rem;margin-right:0.375rem;-webkit-animation:dot-flashing 1s infinite linear alternate;animation:dot-flashing 1s infinite linear alternate;-webkit-animation-delay:0.5s;animation-delay:0.5s}.dot-flashing .right{-webkit-animation:dot-flashing 1s infinite alternate;animation:dot-flashing 1s infinite alternate;-webkit-animation-delay:1s;animation-delay:1s}@-webkit-keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}@keyframes dot-flashing{0%{opacity:0.65}50%,100%{opacity:0.1}}:host{--width:28.75rem;--height:37.5rem;--header-color:var(--amplify-secondary-color);--header-size:var(--amplify-text-lg);--bot-background-color:rgb(230, 230, 230);--bot-text-color:black;--bot-dot-color:var(--bot-text-color);--user-background-color:var(--amplify-blue);--user-text-color:var(--amplify-white);--user-dot-color:var(--user-text-color)}.amplify-chatbot{display:-ms-inline-flexbox;display:inline-flex;-ms-flex-direction:column;flex-direction:column;background-color:var(--background-color);border-radius:0.375rem;-webkit-box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);box-shadow:0.0625rem 0rem 0.25rem 0 rgba(0, 0, 0, 0.15);-webkit-box-sizing:border-box;box-sizing:border-box;font-family:var(--amplify-font-family);margin-bottom:1rem;width:100%;height:var(--height);max-width:var(--width)}@media (min-width: 672px){.amplify-chatbot{width:var(--width)}}.header{padding:1.25rem 0.375rem 1.25rem 0.375rem;color:var(--header-color);font-size:var(--header-size);font-weight:bold;text-align:center;word-wrap:break-word}.body{border-top:0.0625rem solid rgba(0, 0, 0, 0.05);padding:1.5rem 1rem 0 1rem;display:-ms-flexbox;display:flex;-ms-flex-positive:1;flex-grow:1;-ms-flex-direction:column;flex-direction:column;overflow:auto}.bubble{max-width:100%;padding:0.8em 1.4em;text-align:left;word-wrap:break-word;margin-bottom:0.625rem}.bot{margin-right:auto;background-color:var(--bot-background-color);color:var(--bot-text-color);border-radius:1.5rem 1.5rem 1.5rem 0}.user{margin-left:auto;background-color:var(--user-background-color);color:var(--user-text-color);border-radius:1.5rem 1.5rem 0 1.5rem}.footer{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;border-top:0.062rem solid rgba(0, 0, 0, 0.05);padding-right:0.625rem;min-height:3.125rem}.footer amplify-input{--border:none;--margin:0;-ms-flex-positive:1;flex-grow:1}canvas{margin-left:0.625rem;margin-right:0.625rem;-ms-flex-positive:1;flex-grow:1;height:3.125rem}.icon-button{--icon-height:1.25rem;--icon-fill:var(--amplify-primary-color);--padding:0.625rem;--width:auto}\"},352:function(e,t,n){\"use strict\";n.d(t,\"a\",(function(){return _e}));var o=n(22),r=n(17),i=function(){return(i=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},a=new o.a(\"AbstractInteractionsProvider\"),s=function(){function e(e){void 0===e&&(e={}),this._config=e}return e.prototype.configure=function(e){return void 0===e&&(e={}),this._config=i(i({},this._config),e),a.debug(\"configure \"+this.getProviderName(),this._config),this.options},e.prototype.getCategory=function(){return\"Interactions\"},Object.defineProperty(e.prototype,\"options\",{get:function(){return i({},this._config)},enumerable:!0,configurable:!0}),e}(),c=n(0),u=n(408),l=n(65),d=n(77),p=n(95),m=n(96),h=n(66),f=n(97),g=n(98),v=n(78),b=new Set([\"ap-south-1\",\"eu-north-1\",\"eu-west-3\",\"eu-west-2\",\"eu-west-1\",\"ap-northeast-2\",\"ap-northeast-1\",\"me-south-1\",\"ca-central-1\",\"sa-east-1\",\"ap-east-1\",\"ap-southeast-1\",\"ap-southeast-2\",\"eu-central-1\",\"us-east-1\",\"us-east-2\",\"us-west-1\",\"us-west-2\"]),y=new Set([\"cn-north-1\",\"cn-northwest-1\"]),_=new Set([\"us-iso-east-1\"]),x=new Set([\"us-isob-east-1\"]),w=new Set([\"us-gov-west-1\",\"us-gov-east-1\"]),O={apiVersion:\"2016-11-28\",disableHostPrefix:!1,regionInfoProvider:function(e,t){var n=void 0;switch(e){case\"eu-west-1\":n={hostname:\"runtime.lex.eu-west-1.amazonaws.com\",signingService:\"lex\"};break;case\"us-east-1\":n={hostname:\"runtime.lex.us-east-1.amazonaws.com\",signingService:\"lex\"};break;case\"us-west-2\":n={hostname:\"runtime.lex.us-west-2.amazonaws.com\",signingService:\"lex\"};break;default:b.has(e)&&(n={hostname:\"runtime.lex.{region}.amazonaws.com\".replace(\"{region}\",e),signingService:\"lex\"}),y.has(e)&&(n={hostname:\"runtime.lex.{region}.amazonaws.com.cn\".replace(\"{region}\",e)}),_.has(e)&&(n={hostname:\"runtime.lex.{region}.c2s.ic.gov\".replace(\"{region}\",e)}),x.has(e)&&(n={hostname:\"runtime.lex.{region}.sc2s.sgov.gov\".replace(\"{region}\",e)}),w.has(e)&&(n={hostname:\"runtime.lex.{region}.amazonaws.com\".replace(\"{region}\",e)}),void 0===n&&(n={hostname:\"runtime.lex.{region}.amazonaws.com\".replace(\"{region}\",e),signingService:\"lex\"})}return Promise.resolve(n)},signingName:\"lex\"},S=Object(c.__assign)(Object(c.__assign)({},O),{runtime:\"browser\",base64Decoder:h.fromBase64,base64Encoder:h.toBase64,bodyLengthChecker:f.calculateBodyLength,credentialDefaultProvider:Object(p.invalidFunction)(\"Credential is missing\"),defaultUserAgent:Object(g.defaultUserAgent)(u.a,u.b),maxAttemptsDefaultProvider:function(){return\"3\"},regionDefaultProvider:Object(p.invalidFunction)(\"Region is missing\"),requestHandler:new d.FetchHttpHandler,sha256:l.Sha256,streamCollector:d.streamCollector,urlParser:m.parseUrl,utf8Decoder:v.fromUtf8,utf8Encoder:v.toUtf8}),E=n(82),j=n(94),C=n(83),T=n(84),A=n(5),k=n(86),P=n(2),R=function(e){function t(t){var n=this,o=Object(c.__assign)(Object(c.__assign)({},S),t),r=Object(E.resolveRegionConfig)(o),i=Object(E.resolveEndpointsConfig)(r),a=Object(A.resolveAwsAuthConfig)(i),s=Object(T.resolveRetryConfig)(a),u=Object(k.resolveUserAgentConfig)(s),l=Object(C.resolveHostHeaderConfig)(u);return(n=e.call(this,l)||this).config=l,n.middlewareStack.use(Object(A.getAwsAuthPlugin)(n.config)),n.middlewareStack.use(Object(T.getRetryPlugin)(n.config)),n.middlewareStack.use(Object(k.getUserAgentPlugin)(n.config)),n.middlewareStack.use(Object(j.getContentLengthPlugin)(n.config)),n.middlewareStack.use(Object(C.getHostHeaderPlugin)(n.config)),n}return Object(c.__extends)(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(P.Client),z=n(37),I=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o,r,i,a,s,u,l,d,p,m,h,f,g,v,b,y,_;return Object(c.__generator)(this,(function(x){switch(x.label){case 0:return o=[Object(c.__assign)({},e)],r={},[4,ne(e.body,t)];case 1:switch(n=c.__assign.apply(void 0,o.concat([(r.body=x.sent(),r)])),a=\"UnknownError\",a=oe(e,n.body),a){case\"BadGatewayException\":case\"com.amazonaws.lexruntimeservice#BadGatewayException\":return[3,2];case\"BadRequestException\":case\"com.amazonaws.lexruntimeservice#BadRequestException\":return[3,4];case\"ConflictException\":case\"com.amazonaws.lexruntimeservice#ConflictException\":return[3,6];case\"DependencyFailedException\":case\"com.amazonaws.lexruntimeservice#DependencyFailedException\":return[3,8];case\"InternalFailureException\":case\"com.amazonaws.lexruntimeservice#InternalFailureException\":return[3,10];case\"LimitExceededException\":case\"com.amazonaws.lexruntimeservice#LimitExceededException\":return[3,12];case\"LoopDetectedException\":case\"com.amazonaws.lexruntimeservice#LoopDetectedException\":return[3,14];case\"NotAcceptableException\":case\"com.amazonaws.lexruntimeservice#NotAcceptableException\":return[3,16];case\"NotFoundException\":case\"com.amazonaws.lexruntimeservice#NotFoundException\":return[3,18];case\"RequestTimeoutException\":case\"com.amazonaws.lexruntimeservice#RequestTimeoutException\":return[3,20];case\"UnsupportedMediaTypeException\":case\"com.amazonaws.lexruntimeservice#UnsupportedMediaTypeException\":return[3,22]}return[3,24];case 2:return s=[{}],[4,B(n,t)];case 3:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,s.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 4:return u=[{}],[4,U(n,t)];case 5:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,u.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 6:return l=[{}],[4,L(n,t)];case 7:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,l.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 8:return d=[{}],[4,M(n,t)];case 9:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,d.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 10:return p=[{}],[4,$(n,t)];case 11:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,p.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 12:return m=[{}],[4,F(n,t)];case 13:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,m.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 14:return h=[{}],[4,D(n,t)];case 15:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,h.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 16:return f=[{}],[4,H(n,t)];case 17:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,f.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 18:return g=[{}],[4,q(n,t)];case 19:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,g.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 20:return v=[{}],[4,J(n,t)];case 21:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,v.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 22:return b=[{}],[4,V(n,t)];case 23:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,b.concat([x.sent()])),{name:a,$metadata:Z(e)}]),[3,25];case 24:y=n.body,a=y.code||y.Code||a,i=Object(c.__assign)(Object(c.__assign)({},y),{name:\"\"+a,message:y.message||y.Message||a,$fault:\"client\",$metadata:Z(e)}),x.label=25;case 25:return _=i.message||i.Message||a,i.message=_,delete i.Message,[2,Promise.reject(Object.assign(new Error(_),i))]}}))}))},N=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o,r,i,a,s,u,l,d,p,m,h,f,g,v;return Object(c.__generator)(this,(function(b){switch(b.label){case 0:return o=[Object(c.__assign)({},e)],r={},[4,ne(e.body,t)];case 1:switch(n=c.__assign.apply(void 0,o.concat([(r.body=b.sent(),r)])),a=\"UnknownError\",a=oe(e,n.body),a){case\"BadGatewayException\":case\"com.amazonaws.lexruntimeservice#BadGatewayException\":return[3,2];case\"BadRequestException\":case\"com.amazonaws.lexruntimeservice#BadRequestException\":return[3,4];case\"ConflictException\":case\"com.amazonaws.lexruntimeservice#ConflictException\":return[3,6];case\"DependencyFailedException\":case\"com.amazonaws.lexruntimeservice#DependencyFailedException\":return[3,8];case\"InternalFailureException\":case\"com.amazonaws.lexruntimeservice#InternalFailureException\":return[3,10];case\"LimitExceededException\":case\"com.amazonaws.lexruntimeservice#LimitExceededException\":return[3,12];case\"LoopDetectedException\":case\"com.amazonaws.lexruntimeservice#LoopDetectedException\":return[3,14];case\"NotFoundException\":case\"com.amazonaws.lexruntimeservice#NotFoundException\":return[3,16]}return[3,18];case 2:return s=[{}],[4,B(n,t)];case 3:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,s.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 4:return u=[{}],[4,U(n,t)];case 5:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,u.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 6:return l=[{}],[4,L(n,t)];case 7:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,l.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 8:return d=[{}],[4,M(n,t)];case 9:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,d.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 10:return p=[{}],[4,$(n,t)];case 11:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,p.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 12:return m=[{}],[4,F(n,t)];case 13:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,m.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 14:return h=[{}],[4,D(n,t)];case 15:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,h.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 16:return f=[{}],[4,q(n,t)];case 17:return i=c.__assign.apply(void 0,[c.__assign.apply(void 0,f.concat([b.sent()])),{name:a,$metadata:Z(e)}]),[3,19];case 18:g=n.body,a=g.code||g.Code||a,i=Object(c.__assign)(Object(c.__assign)({},g),{name:\"\"+a,message:g.message||g.Message||a,$fault:\"client\",$metadata:Z(e)}),b.label=19;case 19:return v=i.message||i.Message||a,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},B=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"BadGatewayException\",$fault:\"server\",$metadata:Z(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},U=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"BadRequestException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},L=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"ConflictException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},M=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"DependencyFailedException\",$fault:\"client\",$metadata:Z(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},$=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"InternalFailureException\",$fault:\"server\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},F=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"LimitExceededException\",$fault:\"client\",$metadata:Z(e),message:void 0,retryAfterSeconds:void 0},void 0!==e.headers[\"retry-after\"]&&(t.retryAfterSeconds=e.headers[\"retry-after\"]),void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},D=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"LoopDetectedException\",$fault:\"server\",$metadata:Z(e),Message:void 0},void 0!==(n=e.body).Message&&null!==n.Message&&(t.Message=n.Message),[2,t]}))}))},H=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"NotAcceptableException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},q=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"NotFoundException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},J=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"RequestTimeoutException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},V=function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var t,n;return Object(c.__generator)(this,(function(o){return t={name:\"UnsupportedMediaTypeException\",$fault:\"client\",$metadata:Z(e),message:void 0},void 0!==(n=e.body).message&&null!==n.message&&(t.message=n.message),[2,t]}))}))},W=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(c.__read)(t,2),r=o[0],i=o[1];return Object(c.__assign)(Object(c.__assign)({},e),((n={})[r]=i,n))}),{})},G=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:\"GenericAttachment\",attachmentLinkUrl:void 0!==e.attachmentLinkUrl&&null!==e.attachmentLinkUrl?e.attachmentLinkUrl:void 0,buttons:void 0!==e.buttons&&null!==e.buttons?X(e.buttons,t):void 0,imageUrl:void 0!==e.imageUrl&&null!==e.imageUrl?e.imageUrl:void 0,subTitle:void 0!==e.subTitle&&null!==e.subTitle?e.subTitle:void 0,title:void 0!==e.title&&null!==e.title?e.title:void 0}}(e,t)}))},X=function(e,t){return(e||[]).map((function(e){return function(e,t){return{__type:\"Button\",text:void 0!==e.text&&null!==e.text?e.text:void 0,value:void 0!==e.value&&null!==e.value?e.value:void 0}}(e)}))},Y=function(e,t){return{__type:\"ResponseCard\",contentType:void 0!==e.contentType&&null!==e.contentType?e.contentType:void 0,genericAttachments:void 0!==e.genericAttachments&&null!==e.genericAttachments?G(e.genericAttachments,t):void 0,version:void 0!==e.version&&null!==e.version?e.version:void 0}},K=function(e,t){return{__type:\"SentimentResponse\",sentimentLabel:void 0!==e.sentimentLabel&&null!==e.sentimentLabel?e.sentimentLabel:void 0,sentimentScore:void 0!==e.sentimentScore&&null!==e.sentimentScore?e.sentimentScore:void 0}},Q=function(e,t){return Object.entries(e).reduce((function(e,t){var n,o=Object(c.__read)(t,2),r=o[0],i=o[1];return Object(c.__assign)(Object(c.__assign)({},e),((n={})[r]=i,n))}),{})},Z=function(e){return{httpStatusCode:e.statusCode,httpHeaders:e.headers,requestId:e.headers[\"x-amzn-requestid\"]}},ee=function(e,t){return function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)}(e,t).then((function(e){return t.utf8Encoder(e)}))},te=function(e){return void 0!==e&&\"\"!==e&&(!Object.getOwnPropertyNames(e).includes(\"length\")||0!=e.length)&&(!Object.getOwnPropertyNames(e).includes(\"size\")||0!=e.size)},ne=function(e,t){return ee(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},oe=function(e,t){var n,o,r=function(e){var t=e;return t.indexOf(\":\")>=0&&(t=t.split(\":\")[0]),t.indexOf(\"#\")>=0&&(t=t.split(\"#\")[1]),t},i=(n=e.headers,o=\"x-amzn-errortype\",Object.keys(n).find((function(e){return e.toLowerCase()===o.toLowerCase()})));return void 0!==i?r(e.headers[i]):void 0!==t.code?r(t.code):void 0!==t.__type?r(t.__type):\"\"},re=n(4),ie=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(re.getSerdePlugin)(t,this.serialize,this.deserialize));var o=e.concat(this.middlewareStack),r=t.requestHandler;return o.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o,r,i,a,s,u,l,d;return Object(c.__generator)(this,(function(p){switch(p.label){case 0:if(n={\"Content-Type\":\"application/json\"},o=\"/bot/{botName}/alias/{botAlias}/user/{userId}/text\",void 0===e.botAlias)throw new Error(\"No value provided for input HTTP label: botAlias.\");if((r=e.botAlias).length<=0)throw new Error(\"Empty value provided for input HTTP label: botAlias.\");if(o=o.replace(\"{botAlias}\",Object(P.extendedEncodeURIComponent)(r)),void 0===e.botName)throw new Error(\"No value provided for input HTTP label: botName.\");if((r=e.botName).length<=0)throw new Error(\"Empty value provided for input HTTP label: botName.\");if(o=o.replace(\"{botName}\",Object(P.extendedEncodeURIComponent)(r)),void 0===e.userId)throw new Error(\"No value provided for input HTTP label: userId.\");if((r=e.userId).length<=0)throw new Error(\"Empty value provided for input HTTP label: userId.\");return o=o.replace(\"{userId}\",Object(P.extendedEncodeURIComponent)(r)),i=JSON.stringify(Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({},void 0!==e.inputText&&{inputText:e.inputText}),void 0!==e.requestAttributes&&{requestAttributes:W(e.requestAttributes,t)}),void 0!==e.sessionAttributes&&{sessionAttributes:W(e.sessionAttributes,t)})),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,u=a.protocol,l=void 0===u?\"https\":u,d=a.port,[2,new z.HttpRequest({protocol:l,hostname:s,port:d,method:\"POST\",headers:n,path:o,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return Object(c.__generator)(this,(function(r){switch(r.label){case 0:return 200!==e.statusCode&&e.statusCode>=400?[2,N(e,t)]:(n={$metadata:Z(e),__type:\"PostTextResponse\",dialogState:void 0,intentName:void 0,message:void 0,messageFormat:void 0,responseCard:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},[4,ne(e.body,t)]);case 1:return void 0!==(o=r.sent()).dialogState&&null!==o.dialogState&&(n.dialogState=o.dialogState),void 0!==o.intentName&&null!==o.intentName&&(n.intentName=o.intentName),void 0!==o.message&&null!==o.message&&(n.message=o.message),void 0!==o.messageFormat&&null!==o.messageFormat&&(n.messageFormat=o.messageFormat),void 0!==o.responseCard&&null!==o.responseCard&&(n.responseCard=Y(o.responseCard,t)),void 0!==o.sentimentResponse&&null!==o.sentimentResponse&&(n.sentimentResponse=K(o.sentimentResponse,t)),void 0!==o.sessionAttributes&&null!==o.sessionAttributes&&(n.sessionAttributes=Q(o.sessionAttributes,t)),void 0!==o.sessionId&&null!==o.sessionId&&(n.sessionId=o.sessionId),void 0!==o.slotToElicit&&null!==o.slotToElicit&&(n.slotToElicit=o.slotToElicit),void 0!==o.slots&&null!==o.slots&&(n.slots=Q(o.slots,t)),[2,Promise.resolve(n)]}}))}))}(e,t)},t}(P.Command),ae=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Object(c.__extends)(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Object(re.getSerdePlugin)(t,this.serialize,this.deserialize));var o=e.concat(this.middlewareStack),r=t.requestHandler;return o.resolve((function(e){return r.handle(e.request,n||{})}),{logger:{}})},t.prototype.serialize=function(e,t){return function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o,r,i,a,s,u,l,d;return Object(c.__generator)(this,(function(p){switch(p.label){case 0:if(n=Object(c.__assign)(Object(c.__assign)(Object(c.__assign)(Object(c.__assign)({\"Content-Type\":\"application/octet-stream\",\"x-amz-content-sha256\":\"UNSIGNED-PAYLOAD\"},te(e.accept)&&{Accept:e.accept}),te(e.contentType)&&{\"Content-Type\":e.contentType}),te(e.requestAttributes)&&{\"x-amz-lex-request-attributes\":P.LazyJsonString.fromObject(e.requestAttributes)}),te(e.sessionAttributes)&&{\"x-amz-lex-session-attributes\":P.LazyJsonString.fromObject(e.sessionAttributes)}),o=\"/bot/{botName}/alias/{botAlias}/user/{userId}/content\",void 0===e.botAlias)throw new Error(\"No value provided for input HTTP label: botAlias.\");if((r=e.botAlias).length<=0)throw new Error(\"Empty value provided for input HTTP label: botAlias.\");if(o=o.replace(\"{botAlias}\",Object(P.extendedEncodeURIComponent)(r)),void 0===e.botName)throw new Error(\"No value provided for input HTTP label: botName.\");if((r=e.botName).length<=0)throw new Error(\"Empty value provided for input HTTP label: botName.\");if(o=o.replace(\"{botName}\",Object(P.extendedEncodeURIComponent)(r)),void 0===e.userId)throw new Error(\"No value provided for input HTTP label: userId.\");if((r=e.userId).length<=0)throw new Error(\"Empty value provided for input HTTP label: userId.\");return o=o.replace(\"{userId}\",Object(P.extendedEncodeURIComponent)(r)),void 0!==e.inputStream&&(i=e.inputStream),[4,t.endpoint()];case 1:return a=p.sent(),s=a.hostname,u=a.protocol,l=void 0===u?\"https\":u,d=a.port,[2,new z.HttpRequest({protocol:l,hostname:s,port:d,method:\"POST\",headers:n,path:o,body:i})]}}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return Object(c.__awaiter)(void 0,void 0,void 0,(function(){var n,o;return Object(c.__generator)(this,(function(r){return 200!==e.statusCode&&e.statusCode>=400?[2,I(e,t)]:(n={$metadata:Z(e),__type:\"PostContentResponse\",audioStream:void 0,contentType:void 0,dialogState:void 0,inputTranscript:void 0,intentName:void 0,message:void 0,messageFormat:void 0,sentimentResponse:void 0,sessionAttributes:void 0,sessionId:void 0,slotToElicit:void 0,slots:void 0},void 0!==e.headers[\"content-type\"]&&(n.contentType=e.headers[\"content-type\"]),void 0!==e.headers[\"x-amz-lex-dialog-state\"]&&(n.dialogState=e.headers[\"x-amz-lex-dialog-state\"]),void 0!==e.headers[\"x-amz-lex-input-transcript\"]&&(n.inputTranscript=e.headers[\"x-amz-lex-input-transcript\"]),void 0!==e.headers[\"x-amz-lex-intent-name\"]&&(n.intentName=e.headers[\"x-amz-lex-intent-name\"]),void 0!==e.headers[\"x-amz-lex-message\"]&&(n.message=e.headers[\"x-amz-lex-message\"]),void 0!==e.headers[\"x-amz-lex-message-format\"]&&(n.messageFormat=e.headers[\"x-amz-lex-message-format\"]),void 0!==e.headers[\"x-amz-lex-sentiment\"]&&(n.sentimentResponse=e.headers[\"x-amz-lex-sentiment\"]),void 0!==e.headers[\"x-amz-lex-session-attributes\"]&&(n.sessionAttributes=new P.LazyJsonString(e.headers[\"x-amz-lex-session-attributes\"])),void 0!==e.headers[\"x-amz-lex-session-id\"]&&(n.sessionId=e.headers[\"x-amz-lex-session-id\"]),void 0!==e.headers[\"x-amz-lex-slot-to-elicit\"]&&(n.slotToElicit=e.headers[\"x-amz-lex-slot-to-elicit\"]),void 0!==e.headers[\"x-amz-lex-slots\"]&&(n.slots=new P.LazyJsonString(e.headers[\"x-amz-lex-slots\"])),o=e.body,n.audioStream=o,[2,Promise.resolve(n)])}))}))}(e,t)},t}(P.Command),se=n(68),ce=n(27),ue=function(e){if(e instanceof Blob||e instanceof ReadableStream)return new Response(e).arrayBuffer().then((function(e){return new Uint8Array(e)}));throw new Error(\"Readable is not supported.\")},le=function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(t,n)};return function(t,n){function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}(),de=function(){return(de=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},pe=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},me=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},he=new o.a(\"AWSLexProvider\"),fe=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._botsCompleteCallback={},n}return le(t,e),t.prototype.getProviderName=function(){return\"AWSLexProvider\"},t.prototype.reportBotStatus=function(e,t){var n=this;he.debug(\"postContent state\",e.dialogState),\"ReadyForFulfillment\"!==e.dialogState&&\"Fulfilled\"!==e.dialogState||(\"function\"===typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](null,{slots:e.slots})}),0),this._config&&\"function\"===typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(null,{slots:e.slots})}),0)),\"Failed\"===e.dialogState&&(\"function\"===typeof this._botsCompleteCallback[t]&&setTimeout((function(){return n._botsCompleteCallback[t](\"Bot conversation failed\")}),0),this._config&&\"function\"===typeof this._config[t].onComplete&&setTimeout((function(){return n._config[t].onComplete(\"Bot conversation failed\")}),0))},t.prototype.sendMessage=function(e,t){return pe(this,void 0,void 0,(function(){var n,o,r,i,a,s,c,u,l,d;return me(this,(function(p){switch(p.label){case 0:return this._config[e]?[4,se.a.get()]:[2,Promise.reject(\"Bot \"+e+\" does not exist\")];case 1:if(!(n=p.sent()))return[2,Promise.reject(\"No credentials\")];if(this.lexRuntimeServiceClient=new R({region:this._config[e].region,credentials:n,customUserAgent:Object(ce.b)()}),\"string\"!==typeof t)return[3,6];o={botAlias:this._config[e].alias,botName:e,inputText:t,userId:n.identityId},he.debug(\"postText to lex\",t),p.label=2;case 2:return p.trys.push([2,4,,5]),r=new ie(o),[4,this.lexRuntimeServiceClient.send(r)];case 3:return u=p.sent(),this.reportBotStatus(u,e),[2,u];case 4:return i=p.sent(),[2,Promise.reject(i)];case 5:return[3,11];case 6:a=t.content,s=t.options.messageType,o=\"voice\"===s?{botAlias:this._config[e].alias,botName:e,contentType:\"audio/x-l16; sample-rate=16000\",inputStream:a,userId:n.identityId,accept:\"audio/mpeg\"}:{botAlias:this._config[e].alias,botName:e,contentType:\"text/plain; charset=utf-8\",inputStream:a,userId:n.identityId,accept:\"audio/mpeg\"},he.debug(\"postContent to lex\",t),p.label=7;case 7:return p.trys.push([7,10,,11]),c=new ae(o),[4,this.lexRuntimeServiceClient.send(c)];case 8:return u=p.sent(),[4,ue(u.audioStream)];case 9:return l=p.sent(),this.reportBotStatus(u,e),[2,de(de({},u),{audioStream:l})];case 10:return d=p.sent(),[2,Promise.reject(d)];case 11:return[2]}}))}))},t.prototype.onComplete=function(e,t){if(!this._config[e])throw new ErrorEvent(\"Bot \"+e+\" does not exist\");this._botsCompleteCallback[e]=t},t}(s),ge=function(){return(ge=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)},ve=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function a(e){try{c(o.next(e))}catch(t){i(t)}}function s(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}c((o=o.apply(e,t||[])).next())}))},be=function(e,t){var n,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},\"function\"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError(\"Generator is already executing.\");for(;a;)try{if(n=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(s){i=[6,s],o=0}finally{n=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},ye=new o.a(\"Interactions\"),_e=new(function(){function e(e){this._options=e,ye.debug(\"Interactions Options\",this._options),this._pluggables={}}return e.prototype.getModuleName=function(){return\"Interactions\"},e.prototype.configure=function(e){var t=this,n=e?e.Interactions||e:{};ye.debug(\"configure Interactions\",{opt:n}),this._options=ge(ge({bots:{}},n),n.Interactions);var o=this._options.aws_bots_config,r=this._options.bots;return!Object.keys(r).length&&o&&Array.isArray(o)&&o.forEach((function(e){t._options.bots[e.name]=e})),!this._pluggables.AWSLexProvider&&r&&Object.keys(r).map((function(e){return r[e]})).find((function(e){return!e.providerName||\"AWSLexProvider\"===e.providerName}))&&(this._pluggables.AWSLexProvider=new fe),Object.keys(this._pluggables).map((function(e){t._pluggables[e].configure(t._options.bots)})),this._options},e.prototype.addPluggable=function(e){if(e&&\"Interactions\"===e.getCategory()){if(this._pluggables[e.getProviderName()])throw new Error(\"Bot \"+e.getProviderName()+\" already plugged\");return e.configure(this._options.bots),void(this._pluggables[e.getProviderName()]=e)}},e.prototype.send=function(e,t){return ve(this,void 0,void 0,(function(){var n;return be(this,(function(o){switch(o.label){case 0:if(!this._options.bots||!this._options.bots[e])throw new Error(\"Bot \"+e+\" does not exist\");if(n=this._options.bots[e].providerName||\"AWSLexProvider\",!this._pluggables[n])throw new Error(\"Bot \"+n+\" does not have valid pluggin did you try addPluggable first?\");return[4,this._pluggables[n].sendMessage(e,t)];case 1:return[2,o.sent()]}}))}))},e.prototype.onComplete=function(e,t){if(!this._options.bots||!this._options.bots[e])throw new Error(\"Bot \"+e+\" does not exist\");var n=this._options.bots[e].providerName||\"AWSLexProvider\";if(!this._pluggables[n])throw new Error(\"Bot \"+n+\" does not have valid pluggin did you try addPluggable first?\");this._pluggables[n].onComplete(e,t)},e}())(null);r.a.register(_e)},408:function(e){e.exports=JSON.parse('{\"a\":\"@aws-sdk/client-lex-runtime-service\",\"b\":\"1.0.0-gamma.4\"}')}}]);","extractedComments":[]}