{"ast":null,"code":"var _jsxFileName = \"/home/wasif/Documents/Office/mask_vending_machine/src/App.js\";\nimport React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Amplify, { Auth, API, graphqlOperation } from \"aws-amplify\";\nimport { AmplifyAuthenticator, AmplifySignIn, withAuthenticator } from \"@aws-amplify/ui-react\";\nimport { AuthState } from \"@aws-amplify/ui-components\";\nimport awsconfig from \"./aws-exports\";\nimport Navbar from \"./components/Navbar/Index\";\nimport MachinePage from \"./components/MachinePage/index.js\";\nimport MoneyPage from \"./components/MoneyPage\";\nimport { getMasqomatUser, getResellers, listOrders } from \"./graphql/queries\";\nimport { createUser, UpdateOrders } from \"./graphql/mutation\";\nimport { onUpdateProduct } from \"./graphql/subsciption\";\nimport Form from \"./components/Form/form\";\nimport Loader from \"react-spinners/ClipLoader\";\nimport Axios from \"axios\";\nAmplify.configure(awsconfig);\n\nconst AuthStateApp = () => {\n  var _user$attributes2;\n\n  const [user, setUser] = useState();\n  const [navselection, setnavselection] = useState(\"machine\");\n  const [data, setData] = useState(false);\n  const [vending, setVending] = useState(false);\n  const [ListOrder] = useState(false);\n  const [onlineList, setOnlineList] = useState(false);\n  const [offlineList, setOfflineList] = useState(false);\n  const [new1, setnew] = useState(false);\n  const [verified, setverified] = useState(\"loading\");\n  const [loader, setloader] = useState(false);\n\n  const selectNav = data => {\n    setnavselection(data);\n  };\n\n  const APICalling = async (masqomatEasyId, masqomatId) => {\n    try {\n      var _result$data;\n\n      const uniqClientId = masqomatId;\n      const result = await Axios({\n        url: \"https://cors-anywhere.herokuapp.com/https://arcane-plains-65295.herokuapp.com/status\",\n        method: \"POST\",\n        data: {\n          masqomatEasyId: masqomatEasyId,\n          clientId: uniqClientId\n        }\n      });\n\n      if ((result === null || result === void 0 ? void 0 : (_result$data = result.data) === null || _result$data === void 0 ? void 0 : _result$data.toLowerCase()) === \"online\") {\n        return true;\n      } else {\n        //NOT ONLINE\n        return false;\n      }\n    } catch (err) {\n      return false; //NOT ONLINE\n    }\n  }; // useEffect(() => {\n  //   if (verified) APICalling();\n  // }, [user, verified]);\n\n\n  const getData = async id => {\n    setloader(true);\n    API.graphql(graphqlOperation(getResellers, {\n      id\n    })).then(res => {\n      var _res$data, _res$data$listMasqoma, _res$data2, _res$data2$listMasqom;\n\n      let temp = res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : (_res$data$listMasqoma = _res$data.listMasqomats) === null || _res$data$listMasqoma === void 0 ? void 0 : _res$data$listMasqoma.items;\n\n      for (let j = 0; j < temp.length; j++) {\n        var _temp$j, _temp$j2;\n\n        APICalling((_temp$j = temp[j]) === null || _temp$j === void 0 ? void 0 : _temp$j.easyId, (_temp$j2 = temp[j]) === null || _temp$j2 === void 0 ? void 0 : _temp$j2.id).then(res => {\n          console.log(res, \"status\");\n          setData(prev => {\n            let tempData = prev ? [...prev] : [];\n            temp[j].online = res;\n\n            if (res) {\n              let temp1 = onlineList ? [...onlineList] : [];\n              temp1.push(temp);\n              setOnlineList(temp1);\n            } else {\n              let temp2 = offlineList ? [...offlineList] : [];\n              temp2.push(temp);\n              setOfflineList(temp2);\n            }\n\n            tempData.push(...temp);\n\n            if (j === temp.length - 1) {\n              // setnew(Date.now());\n              return tempData;\n            }\n          });\n        });\n      }\n\n      if ((res === null || res === void 0 ? void 0 : (_res$data2 = res.data) === null || _res$data2 === void 0 ? void 0 : (_res$data2$listMasqom = _res$data2.listMasqomats) === null || _res$data2$listMasqom === void 0 ? void 0 : _res$data2$listMasqom.items.length) === 0) {\n        setData([]);\n        setloader(false);\n      }\n    }).catch(err => {\n      setloader(false);\n      setData(false);\n    });\n  };\n\n  useEffect(() => {\n    if (data && (data === null || data === void 0 ? void 0 : data.length) > 0) {\n      const tempdata = [];\n\n      for (let i = 0; i < (data === null || data === void 0 ? void 0 : data.length); i++) {\n        for (let k = 0; k < ((_data$i = data[i]) === null || _data$i === void 0 ? void 0 : (_data$i$products = _data$i.products) === null || _data$i$products === void 0 ? void 0 : _data$i$products.items.length); k++) {\n          var _data$i, _data$i$products, _data$i2, _data$i3, _data$i4, _data$i5, _data$i5$reseller, _data$i6, _data$i7, _data$i7$products, _data$i7$products$ite, _data$i8, _data$i8$products, _data$i8$products$ite, _data$i9, _data$i9$products, _data$i9$products$ite, _data$i10, _data$i10$products, _data$i10$products$it, _data$i11, _data$i11$products, _data$i11$products$it;\n\n          tempdata.push({\n            id: (_data$i2 = data[i]) === null || _data$i2 === void 0 ? void 0 : _data$i2.easyId,\n            masqomatId: (_data$i3 = data[i]) === null || _data$i3 === void 0 ? void 0 : _data$i3.id,\n            location: (_data$i4 = data[i]) === null || _data$i4 === void 0 ? void 0 : _data$i4.description,\n            company: (_data$i5 = data[i]) === null || _data$i5 === void 0 ? void 0 : (_data$i5$reseller = _data$i5.reseller) === null || _data$i5$reseller === void 0 ? void 0 : _data$i5$reseller.companyName,\n            onlineStatus: ((_data$i6 = data[i]) === null || _data$i6 === void 0 ? void 0 : _data$i6.online) ? \"online\" : \"offline\",\n            availableMasks: `${(_data$i7 = data[i]) === null || _data$i7 === void 0 ? void 0 : (_data$i7$products = _data$i7.products) === null || _data$i7$products === void 0 ? void 0 : (_data$i7$products$ite = _data$i7$products.items[k]) === null || _data$i7$products$ite === void 0 ? void 0 : _data$i7$products$ite.stock}/208`,\n            priceNetto: `${(_data$i8 = data[i]) === null || _data$i8 === void 0 ? void 0 : (_data$i8$products = _data$i8.products) === null || _data$i8$products === void 0 ? void 0 : (_data$i8$products$ite = _data$i8$products.items[k]) === null || _data$i8$products$ite === void 0 ? void 0 : _data$i8$products$ite.priceNetto}`,\n            profitShare: `${(_data$i9 = data[i]) === null || _data$i9 === void 0 ? void 0 : (_data$i9$products = _data$i9.products) === null || _data$i9$products === void 0 ? void 0 : (_data$i9$products$ite = _data$i9$products.items[k]) === null || _data$i9$products$ite === void 0 ? void 0 : _data$i9$products$ite.profitShare}`,\n            productId: `${(_data$i10 = data[i]) === null || _data$i10 === void 0 ? void 0 : (_data$i10$products = _data$i10.products) === null || _data$i10$products === void 0 ? void 0 : (_data$i10$products$it = _data$i10$products.items[k]) === null || _data$i10$products$it === void 0 ? void 0 : _data$i10$products$it.id}`,\n            name: `${(_data$i11 = data[i]) === null || _data$i11 === void 0 ? void 0 : (_data$i11$products = _data$i11.products) === null || _data$i11$products === void 0 ? void 0 : (_data$i11$products$it = _data$i11$products.items[k]) === null || _data$i11$products$it === void 0 ? void 0 : _data$i11$products$it.name}`\n          });\n        }\n      }\n\n      setloader(false);\n      setVending(tempdata);\n      getListOrder();\n    }\n  }, [data, new1]);\n\n  const getListOrder = () => {\n    API.graphql(graphqlOperation(listOrders)).then(res => {\n      setVending(prev => {\n        let temp = prev ? [...prev] : [];\n\n        for (let i = 0; i < (temp === null || temp === void 0 ? void 0 : temp.length); i++) {\n          var _res$data3, _res$data3$listOrders;\n\n          temp[i].monthlySales = res === null || res === void 0 ? void 0 : (_res$data3 = res.data) === null || _res$data3 === void 0 ? void 0 : (_res$data3$listOrders = _res$data3.listOrders) === null || _res$data3$listOrders === void 0 ? void 0 : _res$data3$listOrders.items.filter(item => {\n            var _temp$i, _item$masqomat;\n\n            return ((_temp$i = temp[i]) === null || _temp$i === void 0 ? void 0 : _temp$i.masqomatId) === (item === null || item === void 0 ? void 0 : (_item$masqomat = item.masqomat) === null || _item$masqomat === void 0 ? void 0 : _item$masqomat.id);\n          }).length;\n        }\n\n        return temp;\n      });\n    });\n  }; // useEffect(() => {\n  //   getListOrder();\n  // }, [new1, vending]);\n\n\n  useEffect(() => {\n    Auth.currentAuthenticatedUser().then(res => {\n      setUser(res);\n    }).catch(err => {\n      setUser(false);\n    });\n  }, [AuthState]);\n\n  const changeMoney = async (id, priceNetto, profitShare) => {\n    await API.graphql(graphqlOperation(UpdateOrders, {\n      input: {\n        id,\n        priceNetto,\n        profitShare\n      }\n    }));\n  };\n\n  useEffect(() => {\n    let onUpdate = API.graphql(graphqlOperation(onUpdateProduct)).subscribe({\n      next: createUserData => {\n        setVending(prevState => {\n          let temp = [...prevState];\n\n          for (let i = 0; i < prevState.length; i++) {\n            var _temp$i2, _createUserData$value, _createUserData$value2, _createUserData$value3, _createUserData$value4;\n\n            if (((_temp$i2 = temp[i]) === null || _temp$i2 === void 0 ? void 0 : _temp$i2.masqomatId) === (createUserData === null || createUserData === void 0 ? void 0 : (_createUserData$value = createUserData.value) === null || _createUserData$value === void 0 ? void 0 : (_createUserData$value2 = _createUserData$value.data) === null || _createUserData$value2 === void 0 ? void 0 : (_createUserData$value3 = _createUserData$value2.onUpdateProduct) === null || _createUserData$value3 === void 0 ? void 0 : (_createUserData$value4 = _createUserData$value3.masqomat) === null || _createUserData$value4 === void 0 ? void 0 : _createUserData$value4.id)) {\n              var _createUserData$value5, _createUserData$value6, _createUserData$value7, _createUserData$value8, _createUserData$value9, _createUserData$value10;\n\n              temp[i].priceNetto = createUserData === null || createUserData === void 0 ? void 0 : (_createUserData$value5 = createUserData.value) === null || _createUserData$value5 === void 0 ? void 0 : (_createUserData$value6 = _createUserData$value5.data) === null || _createUserData$value6 === void 0 ? void 0 : (_createUserData$value7 = _createUserData$value6.onUpdateProduct) === null || _createUserData$value7 === void 0 ? void 0 : _createUserData$value7.priceNetto;\n              temp[i].profitShare = createUserData === null || createUserData === void 0 ? void 0 : (_createUserData$value8 = createUserData.value) === null || _createUserData$value8 === void 0 ? void 0 : (_createUserData$value9 = _createUserData$value8.data) === null || _createUserData$value9 === void 0 ? void 0 : (_createUserData$value10 = _createUserData$value9.onUpdateProduct) === null || _createUserData$value10 === void 0 ? void 0 : _createUserData$value10.profitShare;\n              return temp;\n            }\n          }\n        });\n      }\n    });\n  }, []);\n\n  const CreateUserMethod = input => {\n    setloader(true);\n    API.graphql(graphqlOperation(createUser, {\n      input: input\n    })).then(res1 => {\n      var _res1$data;\n\n      setverified(res1 === null || res1 === void 0 ? void 0 : (_res1$data = res1.data) === null || _res1$data === void 0 ? void 0 : _res1$data.createMasqomatUser);\n      setloader(false);\n    }).catch(err1 => {\n      setloader(false);\n    });\n  };\n\n  useEffect(() => {\n    if (user) {\n      var _user$attributes;\n\n      setloader(true);\n      API.graphql(graphqlOperation(getMasqomatUser, {\n        id: user === null || user === void 0 ? void 0 : (_user$attributes = user.attributes) === null || _user$attributes === void 0 ? void 0 : _user$attributes.sub\n      })).then(res1 => {\n        var _res1$data2;\n\n        setverified(res1 === null || res1 === void 0 ? void 0 : (_res1$data2 = res1.data) === null || _res1$data2 === void 0 ? void 0 : _res1$data2.getMasqomatUser);\n        setloader(false);\n\n        for (let i = 0; i < (res1 === null || res1 === void 0 ? void 0 : (_res1$data3 = res1.data) === null || _res1$data3 === void 0 ? void 0 : (_res1$data3$getMasqom = _res1$data3.getMasqomatUser) === null || _res1$data3$getMasqom === void 0 ? void 0 : (_res1$data3$getMasqom2 = _res1$data3$getMasqom.masqomats) === null || _res1$data3$getMasqom2 === void 0 ? void 0 : _res1$data3$getMasqom2.length); i++) {\n          var _res1$data3, _res1$data3$getMasqom, _res1$data3$getMasqom2, _res1$data4, _res1$data4$getMasqom;\n\n          getData(res1 === null || res1 === void 0 ? void 0 : (_res1$data4 = res1.data) === null || _res1$data4 === void 0 ? void 0 : (_res1$data4$getMasqom = _res1$data4.getMasqomatUser) === null || _res1$data4$getMasqom === void 0 ? void 0 : _res1$data4$getMasqom.masqomats[i]);\n        }\n      }).catch(err1 => {\n        setloader(false);\n      });\n    }\n  }, [user]);\n  if (loader) return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"loader\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }\n  }));\n\n  if (user === null || user === void 0 ? void 0 : (_user$attributes2 = user.attributes) === null || _user$attributes2 === void 0 ? void 0 : _user$attributes2.sub) {\n    var _user$attributes3;\n\n    if (verified !== \"loading\" && verified) return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      selectNav: selectNav,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }\n    }), navselection === \"machine\" ? /*#__PURE__*/React.createElement(MachinePage, {\n      vending: vending,\n      onlineList: onlineList,\n      oflineList: offlineList,\n      ListOrder: ListOrder,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 15\n      }\n    }) : /*#__PURE__*/React.createElement(MoneyPage, {\n      changeMoney: changeMoney,\n      data: vending,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 15\n      }\n    })));else return /*#__PURE__*/React.createElement(Form, {\n      CreateUser: CreateUserMethod,\n      setverified: setverified,\n      userId: user === null || user === void 0 ? void 0 : (_user$attributes3 = user.attributes) === null || _user$attributes3 === void 0 ? void 0 : _user$attributes3.sub,\n      username: user === null || user === void 0 ? void 0 : user.username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }\n    });\n  } else return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"authentication-page\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(AmplifyAuthenticator, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 258,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(AmplifySignIn, {\n    slot: \"sign-in\",\n    usernameAlias: \"email\",\n    hideSignUp: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    slot: \"secondary-footer-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }\n  }))));\n};\n\nexport default withAuthenticator(AuthStateApp);","map":{"version":3,"sources":["/home/wasif/Documents/Office/mask_vending_machine/src/App.js"],"names":["React","useEffect","useState","Amplify","Auth","API","graphqlOperation","AmplifyAuthenticator","AmplifySignIn","withAuthenticator","AuthState","awsconfig","Navbar","MachinePage","MoneyPage","getMasqomatUser","getResellers","listOrders","createUser","UpdateOrders","onUpdateProduct","Form","Loader","Axios","configure","AuthStateApp","user","setUser","navselection","setnavselection","data","setData","vending","setVending","ListOrder","onlineList","setOnlineList","offlineList","setOfflineList","new1","setnew","verified","setverified","loader","setloader","selectNav","APICalling","masqomatEasyId","masqomatId","uniqClientId","result","url","method","clientId","toLowerCase","err","getData","id","graphql","then","res","temp","listMasqomats","items","j","length","easyId","console","log","prev","tempData","online","temp1","push","temp2","catch","tempdata","i","k","products","location","description","company","reseller","companyName","onlineStatus","availableMasks","stock","priceNetto","profitShare","productId","name","getListOrder","monthlySales","filter","item","masqomat","currentAuthenticatedUser","changeMoney","input","onUpdate","subscribe","next","createUserData","prevState","value","CreateUserMethod","res1","createMasqomatUser","err1","attributes","sub","masqomats","username"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport Amplify, { Auth, API, graphqlOperation } from \"aws-amplify\";\nimport {\n  AmplifyAuthenticator,\n  AmplifySignIn,\n  withAuthenticator,\n} from \"@aws-amplify/ui-react\";\nimport { AuthState } from \"@aws-amplify/ui-components\";\nimport awsconfig from \"./aws-exports\";\nimport Navbar from \"./components/Navbar/Index\";\nimport MachinePage from \"./components/MachinePage/index.js\";\nimport MoneyPage from \"./components/MoneyPage\";\nimport { getMasqomatUser, getResellers, listOrders } from \"./graphql/queries\";\nimport { createUser, UpdateOrders } from \"./graphql/mutation\";\nimport { onUpdateProduct } from \"./graphql/subsciption\";\nimport Form from \"./components/Form/form\";\nimport Loader from \"react-spinners/ClipLoader\";\nimport Axios from \"axios\";\n\nAmplify.configure(awsconfig);\n\nconst AuthStateApp = () => {\n  const [user, setUser] = useState();\n  const [navselection, setnavselection] = useState(\"machine\");\n  const [data, setData] = useState(false);\n  const [vending, setVending] = useState(false);\n  const [ListOrder] = useState(false);\n  const [onlineList, setOnlineList] = useState(false);\n  const [offlineList, setOfflineList] = useState(false);\n  const [new1, setnew] = useState(false);\n  const [verified, setverified] = useState(\"loading\");\n  const [loader, setloader] = useState(false);\n\n  const selectNav = (data) => {\n    setnavselection(data);\n  };\n\n  const APICalling = async (masqomatEasyId, masqomatId) => {\n    try {\n      const uniqClientId = masqomatId;\n      const result = await Axios({\n        url: \"https://cors-anywhere.herokuapp.com/https://arcane-plains-65295.herokuapp.com/status\",\n        method: \"POST\",\n        data: {\n          masqomatEasyId: masqomatEasyId,\n          clientId: uniqClientId,\n        },\n      });\n      if (result?.data?.toLowerCase() === \"online\") {\n        return true;\n      } else {\n        //NOT ONLINE\n        return false;\n      }\n    } catch (err) {\n      return false;\n      //NOT ONLINE\n    }\n  };\n  // useEffect(() => {\n  //   if (verified) APICalling();\n  // }, [user, verified]);\n\n  const getData = async (id) => {\n    setloader(true);\n    API.graphql(graphqlOperation(getResellers, { id }))\n      .then((res) => {\n        let temp = res?.data?.listMasqomats?.items;\n        for (let j = 0; j < temp.length; j++) {\n          APICalling(temp[j]?.easyId, temp[j]?.id).then((res) => {\n            console.log(res, \"status\")\n            setData((prev) => {\n              let tempData = prev ? [...prev] : [];\n              temp[j].online = res;\n              if (res) {\n                let temp1 = onlineList ? [...onlineList] : [];\n                temp1.push(temp);\n                setOnlineList(temp1);\n              } else {\n                let temp2 = offlineList ? [...offlineList] : [];\n                temp2.push(temp);\n                setOfflineList(temp2);\n              }\n              tempData.push(...temp);\n              if (j === temp.length - 1) {\n                // setnew(Date.now());\n                return tempData;\n              }\n            });\n          });\n        }\n        if (res?.data?.listMasqomats?.items.length === 0) {\n          setData([]);\n          setloader(false);\n        }\n      })\n      .catch((err) => {\n        setloader(false);\n        setData(false);\n      });\n  };\n\n  useEffect(() => {\n    if (data && data?.length > 0) {\n      const tempdata = [];\n      for (let i = 0; i < data?.length; i++) {\n        for (let k = 0; k < data[i]?.products?.items.length; k++) {\n          tempdata.push({\n            id: data[i]?.easyId,\n            masqomatId: data[i]?.id,\n            location: data[i]?.description,\n            company: data[i]?.reseller?.companyName,\n            onlineStatus: data[i]?.online ? \"online\" : \"offline\",\n            availableMasks: `${data[i]?.products?.items[k]?.stock}/208`,\n            priceNetto: `${data[i]?.products?.items[k]?.priceNetto}`,\n            profitShare: `${data[i]?.products?.items[k]?.profitShare}`,\n            productId: `${data[i]?.products?.items[k]?.id}`,\n            name: `${data[i]?.products?.items[k]?.name}`,\n          });\n        }\n      }\n      setloader(false);\n      setVending(tempdata);\n      getListOrder()\n    }\n  }, [data, new1]);\n\n  const getListOrder = () => {\n    API.graphql(graphqlOperation(listOrders)).then((res) => {\n      setVending((prev) => {\n        let temp = prev ? [...prev] : [];\n        for (let i = 0; i < temp?.length; i++) {\n          temp[i].monthlySales = res?.data?.listOrders?.items.filter(\n            (item) => temp[i]?.masqomatId === item?.masqomat?.id\n          ).length;\n        }\n        return temp;\n      });\n    });\n  };\n\n  // useEffect(() => {\n  //   getListOrder();\n  // }, [new1, vending]);\n\n  useEffect(() => {\n    Auth.currentAuthenticatedUser()\n      .then((res) => {\n        setUser(res);\n      })\n      .catch((err) => {\n        setUser(false);\n      });\n  }, [AuthState]);\n\n  const changeMoney = async (id, priceNetto, profitShare) => {\n    await API.graphql(\n      graphqlOperation(UpdateOrders, { input: { id, priceNetto, profitShare } })\n    );\n  };\n\n  useEffect(() => {\n    let onUpdate = API.graphql(graphqlOperation(onUpdateProduct)).subscribe({\n      next: (createUserData) => {\n        setVending((prevState) => {\n          let temp = [...prevState];\n          for (let i = 0; i < prevState.length; i++) {\n            if (\n              temp[i]?.masqomatId ===\n              createUserData?.value?.data?.onUpdateProduct?.masqomat?.id\n            ) {\n              temp[i].priceNetto =\n                createUserData?.value?.data?.onUpdateProduct?.priceNetto;\n              temp[i].profitShare =\n                createUserData?.value?.data?.onUpdateProduct?.profitShare;\n              return temp;\n            }\n          }\n        });\n      },\n    });\n  }, []);\n\n  const CreateUserMethod = (input) => {\n    setloader(true);\n    API.graphql(graphqlOperation(createUser, { input: input }))\n\n      .then((res1) => {\n        setverified(res1?.data?.createMasqomatUser);\n        setloader(false);\n      })\n      .catch((err1) => {\n        setloader(false);\n      });\n  };\n\n  useEffect(() => {\n    if (user) {\n      setloader(true);\n      API.graphql(\n        graphqlOperation(getMasqomatUser, { id: user?.attributes?.sub })\n      )\n        .then((res1) => {\n          setverified(res1?.data?.getMasqomatUser);\n          setloader(false);\n          for (\n            let i = 0;\n            i < res1?.data?.getMasqomatUser?.masqomats?.length;\n            i++\n          ) {\n            getData(res1?.data?.getMasqomatUser?.masqomats[i]);\n          }\n        })\n        .catch((err1) => {\n          setloader(false);\n        });\n    }\n  }, [user]);\n\n  if (loader)\n    return (\n      <div className=\"loader\">\n        <Loader />\n      </div>\n    );\n  if (user?.attributes?.sub) {\n    if (verified !== \"loading\" && verified)\n      return (\n        <div className=\"App\">\n          <div className=\"container\">\n            <Navbar selectNav={selectNav} />\n            {navselection === \"machine\" ? (\n              <MachinePage\n                vending={vending}\n                onlineList={onlineList}\n                oflineList={offlineList}\n                ListOrder={ListOrder}\n              />\n            ) : (\n              <MoneyPage changeMoney={changeMoney} data={vending} />\n            )}\n          </div>\n        </div>\n      );\n    else\n      return (\n        <Form\n          CreateUser={CreateUserMethod}\n          setverified={setverified}\n          userId={user?.attributes?.sub}\n          username={user?.username}\n        />\n      );\n  } else\n    return (\n      <div className=\"authentication-page\">\n        <AmplifyAuthenticator>\n          <AmplifySignIn slot=\"sign-in\" usernameAlias=\"email\" hideSignUp>\n            <div slot=\"secondary-footer-content\"></div>\n          </AmplifySignIn>\n        </AmplifyAuthenticator>\n      </div>\n    );\n};\n\nexport default withAuthenticator(AuthStateApp);\n"]},"metadata":{},"sourceType":"module"}